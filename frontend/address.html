<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Saved Addresses</title>

<style>
body{
    margin:0;
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial;
    background:#f6f7fb;
}

.header{
    background:#6c1d9a;
    color:white;
    padding:14px;
    font-size:18px;
    font-weight:700;
    text-align:center;
}

.container{
    padding:12px;
}

.add-btn{
    background:#6c1d9a;
    color:white;
    padding:12px;
    border-radius:12px;
    border:none;
    width:100%;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
}

.address-card{
    background:white;
    border-radius:14px;
    padding:12px;
    margin-top:12px;
    box-shadow:0 2px 6px rgba(0,0,0,.06);
}

.address-top{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.tag{
    background:#eee;
    font-size:12px;
    padding:4px 10px;
    border-radius:10px;
    font-weight:600;
}

.addr{
    font-size:14px;
    margin-top:6px;
    line-height:1.4;
}

.actions{
    margin-top:8px;
    display:flex;
    gap:10px;
}

.actions button{
    border:none;
    background:none;
    color:#6c1d9a;
    font-weight:600;
    cursor:pointer;
}

.modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.4);
    display:none;
    justify-content:center;
    align-items:center;
}

.modal-box{
    background:white;
    width:90%;
    max-width:400px;
    border-radius:16px;
    padding:14px;
}

.modal-box h3{
    margin:4px 0 10px;
    text-align:center;
}

.modal-box input,.modal-box textarea{
    width:100%;
    padding:10px;
    border-radius:10px;
    border:1px solid #ddd;
    margin-bottom:8px;
    font-size:14px;
}

.save-btn{
    width:100%;
    background:#6c1d9a;
    color:white;
    padding:12px;
    border-radius:12px;
    border:none;
    font-weight:700;
    font-size:15px;
}
</style>
</head>

<body>

<div class="header">Saved Addresses</div>

<div class="container">

    <button class="add-btn" onclick="openModal()">+ Add New Address</button>

    <div id="addressList"></div>

</div>


<!-- Add/Edit Modal -->
<div class="modal" id="addressModal">
    <div class="modal-box">
        <h3>Add Address</h3>

        <input id="tag" placeholder="Tag (Home / Office)">
        <textarea id="address" rows="3" placeholder="Full Address"></textarea>

        <button class="save-btn" onclick="saveAddress()">Save Address</button>
    </div>
</div>


<script>
let addresses = JSON.parse(localStorage.getItem("addresses")) || [];
let editIndex = null;

function render(){
    const list = document.getElementById("addressList");
    list.innerHTML="";

    addresses.forEach((a,i)=>{
        list.innerHTML+=`
        <div class="address-card">
            <div class="address-top">
                <div class="tag">${a.tag}</div>
                <div>
                    <button onclick="editAddr(${i})">Edit</button>
                    <button onclick="delAddr(${i})">Delete</button>
                </div>
            </div>
            <div class="addr">${a.addr}</div>
        </div>`;
    });
}

function openModal(){
    document.getElementById("addressModal").style.display="flex";
    document.getElementById("tag").value="";
    document.getElementById("address").value="";
    editIndex=null;
}

function saveAddress(){
    let tag=document.getElementById("tag").value;
    let addr=document.getElementById("address").value;

    if(!tag || !addr) return alert("Please fill all fields");

    if(editIndex===null) addresses.push({tag,addr});
    else addresses[editIndex]={tag,addr};

    localStorage.setItem("addresses",JSON.stringify(addresses));
    document.getElementById("addressModal").style.display="none";
    render();
}

function editAddr(i){
    editIndex=i;
    openModal();
    document.getElementById("tag").value=addresses[i].tag;
    document.getElementById("address").value=addresses[i].addr;
}

function delAddr(i){
    if(confirm("Delete this address?")){
        addresses.splice(i,1);
        localStorage.setItem("addresses",JSON.stringify(addresses));
        render();
    }
}

render();
</script>

</body>
</html>
