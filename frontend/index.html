<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AAGAM ‚Äì Groceries in Minutes</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,Arial,sans-serif}
body{background:#f6f7fb;color:#111}
.header{background:#fff;padding:12px;display:flex;align-items:center;gap:10px;border-bottom:1px solid #eee;position:relative}
.logo{font-size:22px;font-weight:800;color:#00b761;cursor:pointer}
.search{flex:1;display:flex;background:#f2f3f7;border-radius:10px;padding:8px 10px;align-items:center}
.search input{flex:1;border:none;background:none;outline:none;font-size:16px}
.search input::placeholder{color:#999}
.header-icons{display:flex;gap:12px;font-size:20px;cursor:pointer}
.cat-nav{display:flex;gap:18px;padding:12px;background:#fff;overflow-x:auto;border-bottom:1px solid #eee}
.cat-nav span{font-weight:600;cursor:pointer;white-space:nowrap;color:#666}
.cat-nav .active{color:#00b761;border-bottom:3px solid #00b761;padding-bottom:8px}
/* Banner Section - Visible only on "All" category */
.banner-section{
  position:relative;
  padding:12px 12px 24px;
  background:#fff;
  overflow:hidden;
  display:none;
}
.banner-section.visible{display:block}
.banner-carousel{position:relative;width:100%;height:220px;border-radius:18px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.1)}
.banner-slide{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;transition:opacity 0.8s ease}
.banner-slide.active{opacity:1}
.banner-slide img{width:100%;height:100%;object-fit:cover}
.banner-prev,.banner-next{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.7);width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:22px;color:#333;cursor:pointer;z-index:10}
.banner-prev{left:12px}
.banner-next{right:12px}
.banner-dots{position:absolute;bottom:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:10}
.banner-dots span{width:8px;height:8px;background:#fff;opacity:0.6;border-radius:50%;transition:0.3s}
.banner-dots span.active{opacity:1;width:20px;border-radius:10px;}
/* Category Sections */
.cat-section{padding:16px 12px 8px;background:#fff}
.cat-title{font-size:22px;font-weight:800;margin-bottom:8px}
.products{display:flex;gap:12px;overflow-x:auto;padding:0 12px 20px;background:#fff;scrollbar-width:none}
.products::-webkit-scrollbar{display:none}
/* Product cards with zoom on hover */
.product{
  position:relative;
  background:#fff;
  border-radius:16px;
  overflow:hidden;
  width:160px;
  flex-shrink:0;
  box-shadow:0 2px 8px rgba(0,0,0,.05);
  display:flex;
  flex-direction:column;
  transition:transform 0.2s ease;
}
.product:hover{
  transform:translateY(-4px);
  box-shadow:0 8px 20px rgba(0,0,0,.12);
}
.product-img-container{
  position:relative;
  overflow:hidden;
  height:140px;
}
.product img{
  width:100%;
  height:100%;
  object-fit:cover;
  transition:transform 0.4s ease;
}
.product:hover img{
  transform:scale(1.15);
}
.product-info{
  padding:10px;
  flex:1;
  display:flex;
  flex-direction:column;
}
.product-name{font-size:14px;font-weight:600;margin-bottom:4px;line-height:1.2}
.product-weight{font-size:12px;color:#555;margin-bottom:6px}
.product-price{display:flex;align-items:center;gap:6px;margin-bottom:8px}
.product-price .selling{font-size:18px;font-weight:800;color:#ff3366}
.product-price .mrp{font-size:13px;color:#888;text-decoration:line-through}
.product-price .off{color:#f00;font-size:12px;font-weight:600}
.add-btn{width:100%;padding:10px;background:#ff3366;color:#fff;border:none;border-radius:50px;font-weight:700;font-size:16px;cursor:pointer}
.qty-btn{width:100%;padding:10px;background:#ff3366;color:#fff;border:none;border-radius:50px;font-weight:700;display:flex;align-items:center;justify-content:center;gap:12px;cursor:pointer}
.qty-btn button{width:32px;height:32px;border-radius:50%;background:#fff;color:#ff3366;font-size:20px;font-weight:700}
/* No results message */
.no-results{padding:40px;text-align:center;color:#888;font-size:16px}
/* Details Modal - Updated to match Zepto style */
.details-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:flex-start;justify-content:center;z-index:400;overflow-y:auto;padding:0}
.details-modal{
  background:#fff;
  width:100%;
  max-width:900px;
  border-radius:16px 16px 0 0;
  overflow:hidden;
  margin-top:60px;
  max-height:90vh;
  display:flex;
  flex-direction:column;
}
.details-gallery{
  flex:1;
  overflow-y:auto;
}
.details-main-img{width:100%;height:400px;object-fit:contain;background:#f9f9f9}
.details-thumbs{display:flex;gap:8px;padding:12px;overflow-x:auto;background:#fff}
.details-thumbs img{width:70px;height:70px;object-fit:cover;border-radius:8px;border:2px solid #eee;cursor:pointer}
.details-thumbs img.active{border-color:#ff3366}
.details-info{
  padding:20px;
  background:#fff;
}
.details-name{font-size:24px;font-weight:700;margin-bottom:8px}
.details-weight{font-size:14px;color:#555;margin-bottom:12px}
.details-price-big{font-size:32px;font-weight:800;color:#ff3366;margin-bottom:8px}
.details-mrp{font-size:16px;color:#888;text-decoration:line-through;margin-right:8px}
.details-discount{color:#f00;font-weight:600;font-size:16px}
.details-coupon{font-size:14px;color:#ff3366;margin:12px 0}
.add-to-cart-big{width:100%;padding:16px;background:#ff3366;color:#fff;border:none;border-radius:50px;font-weight:700;font-size:18px;margin:16px 0;cursor:pointer}
.shelf-life{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:#f9f9f9;
  padding:12px;
  border-radius:12px;
  margin:16px 0;
  font-size:14px;
  color:#555;
}
.info-section{
  margin:20px 0;
  font-size:14px;
  line-height:1.5;
  color:#555;
}
.info-section h3{
  font-size:16px;
  font-weight:600;
  margin-bottom:8px;
}
.similar-section{margin-top:20px;padding-top:20px;border-top:1px solid #eee}
.similar-section h3{font-size:18px;margin-bottom:16px}
.similar-products{display:flex;gap:16px;overflow-x:auto;padding-bottom:8px}
.similar-product{background:#fff;border-radius:16px;overflow:hidden;width:160px;flex-shrink:0;box-shadow:0 2px 8px rgba(0,0,0,.05)}
.similar-product img{width:100%;height:120px;object-fit:cover}
.similar-info{padding:10px;text-align:center}
.similar-info .selling{font-size:16px;font-weight:700;color:#ff3366}
.similar-add{width:100%;margin-top:8px;padding:8px;background:#fff;border:2px solid #ff3366;color:#ff3366;border-radius:50px;font-weight:700;cursor:pointer}
/* Cart unchanged */
.cart-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;z-index:300}
.cart-popup{position:fixed;bottom:-100%;left:0;width:100%;max-height:90%;background:#fff;border-radius:18px 18px 0 0;transition:.35s;z-index:301;overflow:hidden;display:flex;flex-direction:column}
.cart-popup.active{bottom:0}
.cart-header{padding:16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee}
.cart-header h3{font-size:20px;font-weight:700}
.cart-content{flex:1;overflow-y:auto;padding:16px}
#cartItems .cart-item{display:flex;align-items:center;gap:16px;margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid #eee}
.cart-item-img{width:80px;height:80px;border-radius:12px;overflow:hidden;background:#f9f9f9}
.cart-item-img img{width:100%;height:100%;object-fit:contain}
.cart-item-details{flex:1}
.cart-item-details h4{font-size:16px}
.cart-item-details p{font-size:14px;color:#555}
.quantity-controls{display:flex;align-items:center;gap:12px;margin-top:8px}
.quantity-controls button{width:32px;height:32px;border:1px solid #ddd;border-radius:8px;background:#fff;font-size:20px;display:flex;align-items:center;justify-content:center}
.quantity-controls span{font-size:16px;font-weight:600;width:40px;text-align:center}
.cart-item-price{font-size:18px;font-weight:700;color:#ff3366}
.cart-footer{background:#fff;padding:16px;border-top:1px solid #eee}
.cart-total{display:flex;justify-content:space-between;margin-bottom:16px}
.cart-total span{font-size:16px}
.cart-total strong{font-size:20px;font-weight:800;color:#ff3366}
.cart-proceed-btn{width:100%;padding:16px;background:#ff3366;color:#fff;border:none;border-radius:12px;font-size:18px;font-weight:700}
/* Footer with Contact Info */
.footer{
  background:#111;
  color:#fff;
  padding:40px 20px;
  text-align:center;
  margin-top:60px;
}
.footer h3{
  font-size:22px;
  margin-bottom:16px;
  color:#00b761;
}
.footer p{
  font-size:14px;
  margin:8px 0;
  color:#ccc;
}
.footer .contact-info{
  margin:20px 0;
}
.footer .social{
  margin-top:20px;
}
.footer .social a{
  margin:0 12px;
}
.footer .social img{
  width:48px;
  height:48px;
  border-radius:50%;
  transition:transform 0.3s;
}
.footer .social img:hover{
  transform:scale(1.1);
}
.footer .copyright{
  margin-top:30px;
  font-size:12px;
  color:#888;
}
/* Location Modal Styles */
.location-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:1000}
.location-modal{background:#fff;width:90%;max-width:400px;border-radius:16px;padding:24px;text-align:center}
.detect-btn{width:100%;padding:14px;background:#f0f9ff;color:#0066cc;border:1px solid #b3d4fc;border-radius:50px;font-weight:600;margin:12px 0;cursor:pointer}
</style>
</head>
<body>

<div class="header">
  <div class="logo">AAGAM</div>
  <!-- Clickable Location Picker -->
  <div class="location-picker" onclick="openLocationModal()">
    <span style="font-size:18px;">üìç</span>
    <div>
      <small style="color:#666;">Deliver to</small><br>
      <strong id="currentLocationDisplay">Anakapalli</strong>
    </div>
    <span style="font-size:12px;color:#666;">‚ñº</span>
  </div>
  
  <div class="search">üîç <input id="searchInput" onkeyup="handleSearch()" placeholder="Search products..."></div>
  <div class="header-icons">
    <div onclick="openProfile()">üë§</div>
    <div onclick="openCart()">üõí</div>
  </div>
</div>

<div class="cat-nav">
  <span class="active" data-cat="all">All</span>
  <span data-cat="grocery">Grocery</span>
  <span data-cat="fruit">Fruits</span>
  <span data-cat="veg">Vegetables</span>
  <span data-cat="dairy">Dairy</span>
  <span data-cat="snack">Snacks</span>
  <span data-cat="beauty">Beauty</span>
  <span data-cat="toys">Toys</span>
  <span data-cat="student">Student needs</span>
</div>

<!-- Banner Section - Visible only on "All" -->
<div class="banner-section visible" id="bannerSection">
  <div class="banner-carousel" id="bannerCarousel">
    <div class="banner-slide active">
      <img src="https://img.freepik.com/free-vector/flat-design-grocery-store-sale-banner_23-2151074240.jpg" alt="Grocery Sale">
    </div>
    <div class="banner-slide">
      <img src="https://img.freepik.com/free-vector/flat-design-grocery-store-sale-banner_23-2151069702.jpg" alt="Big Sale">
    </div>
    <div class="banner-slide">
      <img src="https://cdn.create.vista.com/downloads/3f85af1e-e7b7-410d-9725-329a269653f5_1024.jpeg" alt="Fresh Veggies">
    </div>
  </div>
  <div class="banner-prev" onclick="prevSlide()">‚ùÆ</div>
  <div class="banner-next" onclick="nextSlide()">‚ùØ</div>
  <div class="banner-dots" id="bannerDots"></div>
</div>

<!-- Dynamic Category Sections Container -->
<div id="sectionsContainer"></div>

<!-- No Results Message -->
<div id="noResults" class="no-results" style="display:none;">
  No products found matching "<strong id="searchTerm"></strong>"
</div>

<!-- Your Location Modal (exactly as you provided - no changes) -->
<div class="location-overlay" id="locationOverlay" onclick="closeLocationModal()">
  <div class="location-modal" onclick="event.stopPropagation()">
    <h3 style="margin-bottom:16px;">Select Delivery Location</h3>
  
    <button class="detect-btn" onclick="detectMyLocation()">
      üìç Detect My Location
    </button>
    <div style="margin:20px 0; color:#666;">OR</div>
    <input type="text" id="pincodeInput" placeholder="Enter Pincode or Area (e.g. 530013)"
           style="width:100%; padding:12px; border:1px solid #ddd; border-radius:8px; font-size:16px;">
  
    <button onclick="saveLocation()" style="margin-top:20px; width:100%; padding:14px; background:#00b761; color:white; border:none; border-radius:50px; font-weight:700; font-size:16px;">
      Confirm Location
    </button>
  </div>
</div>

<!-- Details Modal - Updated to match Zepto style -->
<div class="details-overlay" id="detailsOverlay" onclick="closeDetails()">
  <div class="details-modal" onclick="event.stopPropagation()">
    <div class="details-gallery">
      <img id="detailsMainImg" class="details-main-img" src="" alt="">
      <div class="details-thumbs" id="detailsThumbs"></div>
    </div>
    <div class="details-info">
      <div class="details-name" id="detailsName">Apple Shimla</div>
      <div class="details-weight" id="detailsWeight">Net Qty: 4 pcs</div>
      <div class="details-price-big" id="detailsPrice">‚Çπ126</div>
      <div>
        <span class="details-mrp" id="detailsMrp">MRP ‚Çπ221</span>
        <span class="details-discount" id="detailsDiscount">‚Çπ95 OFF</span>
      </div>
      <div class="details-coupon">Get at ‚Çπ101 with coupon offers</div>
      <button class="add-to-cart-big" onclick="addToCartFromDetails()">Add To Cart</button>
   
      <div class="info-section">
        <h3>Highlights</h3>
        <p>product type: Fruit<br>good for: Immunity<br>dietary preference: Veg<br>imported: No</p>
      </div>
   
      <div class="info-section">
        <h3>Information</h3>
        <p class="disclaimer">All images are for representational purposes only. It is advised that you read the batch and manufacturing details, directions for use, allergen information, health and nutritional claims (wherever applicable), and other details mentioned on the label before consuming the product.</p>
        <p class="customer-care">In case of any issue, contact us<br>E-mail address: support@aagam.com</p>
        <p>Seller Name: AAGAM Convenience Private Limited<br>Country of Origin: India<br>Shelf Life: <span id="detailsShelf">4 days</span></p>
      </div>
   
      <div class="similar-section">
        <h3>Similar Products</h3>
        <div class="similar-products" id="similarProducts"></div>
      </div>
    </div>
  </div>
</div>

<!-- Cart Popup unchanged -->
<div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>
<div class="cart-popup" id="cartPopup">
  <div class="cart-header">
    <h3>Your Cart</h3>
    <div onclick="closeCart()" style="font-size:24px;cursor:pointer">√ó</div>
  </div>
  <div class="cart-content" id="cartItems"></div>
  <div class="cart-footer">
    <div class="cart-total">
      <span>Total</span>
      <strong id="cartTotal">‚Çπ0</strong>
    </div>
    <button class="cart-proceed-btn" onclick="alert('Proceeding to checkout...')">Proceed to Checkout</button>
  </div>
</div>

<!-- How it Works Section -->
<div class="how-it-works">
  <h2>How it Works</h2>
  <div class="steps">
    <div class="step">
      <div class="step-icon">üì±</div>
      <h3>Open the app</h3>
      <p>Choose from over 7000 products across groceries, fresh fruits & veggies, meat, pet care, beauty items & more</p>
    </div>
    <div class="step">
      <div class="step-icon">üõí</div>
      <h3>Place an order</h3>
      <p>Add your favourite items to the cart & avail the best offers</p>
    </div>
    <div class="step">
      <div class="step-icon">üöÄ</div>
      <h3>Get free delivery</h3>
      <p>Experience lightning-fast speed & get all your items delivered in 10 minutes</p>
    </div>
  </div>
</div>

<!-- Footer with Contact Info -->
<footer class="footer">
  <div class="footer-content">
    <h3>Contact Us</h3>
    <p class="contact-info">
      Email: support@aagam.com<br>
      Phone: +91 xxxxx xxxxx<br>
      WhatsApp: <a href="https://wa.me/919876543210" target="_blank" style="color:#00b761;text-decoration:none;">+91 xxxxx xxxxx</a><br>
      Address: AAGAM Groceries, Visakhapatnam, Andhra Pradesh, India
    </p>
   
    <div class="social">
      <a href="https://www.facebook.com" target="_blank">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook">
      </a>
      <a href="https://x.com" target="_blank">
        <img src="https://img.freepik.com/premium-vector/twitter-vector-logo-logotype-vector-social-media_901408-401.jpg?semt=ais_hybrid&w=740&q=80" alt="X (Twitter)">
      </a>
      <a href="https://www.instagram.com" target="_blank">
        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
      </a>
    </div>
   
    <p class="copyright">
      ¬© 2026 AAGAM ‚Äì Groceries in Minutes. All rights reserved.
    </p>
  </div>
</footer>

<script>
let cart = [], activeCategory = "all";
let currentProduct = {};
let searchQuery = "";

// New unlimited products (copy-paste more of these)
let categorySections = [
  {
    title: "Grocery",
    products: [
      {name:"Aashirvaad Atta", price:"‚Çπ185", mrp:"‚Çπ220", off:"‚Çπ35 OFF", weight:"5 kg", img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", cat:"grocery"},{name:"Aashirvaad Atta", price:"‚Çπ185", mrp:"‚Çπ220", off:"‚Çπ35 OFF", weight:"5 kg", img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", cat:"grocery"},
      {name:"Aashirvaad Atta", price:"‚Çπ185", mrp:"‚Çπ220", off:"‚Çπ35 OFF", weight:"5 kg", img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", cat:"grocery"},
      {name:"Aashirvaad Atta", price:"‚Çπ185", mrp:"‚Çπ220", off:"‚Çπ35 OFF", weight:"5 kg", img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", cat:"grocery"},
      {name:"Aashirvaad Atta", price:"‚Çπ185", mrp:"‚Çπ220", off:"‚Çπ35 OFF", weight:"5 kg", img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", cat:"grocery"},
      {name:"Fortune Sunflower Oil", price:"‚Çπ120", mrp:"‚Çπ150", off:"‚Çπ30 OFF", weight:"1 L", img:"https://images.unsplash.com/photo-1625772299848-361b8037d1a9?w=800", cat:"grocery"},
      {name:"Tata Salt", price:"‚Çπ22", weight:"1 kg", img:"https://images.unsplash.com/photo-1615477068639-4353b2d7d3c3?w=800", cat:"grocery"},
      {name:"Maggi 2-Min Noodles", price:"‚Çπ38", mrp:"‚Çπ44", off:"‚Çπ6 OFF", weight:"280 g", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"grocery"},
      {name:"India Gate Basmati Rice", price:"‚Çπ98", weight:"1 kg", img:"https://images.unsplash.com/photo-1586201833999-8b4e8c7b8d0b?w=800", cat:"grocery"},
      {name:"Refined Sugar", price:"‚Çπ45", weight:"1 kg", img:"https://images.unsplash.com/photo-1559056199-8c9956a0d4d5?w=800", cat:"grocery"},
      {name:"Wheat Flour Chakki Fresh", price:"‚Çπ65", weight:"5 kg", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"grocery"},
      {name:"Patanjali Ghee", price:"‚Çπ520", weight:"1 L", img:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc2d?w=800", cat:"grocery"},
      {name:"Everest Chilli Powder", price:"‚Çπ85", weight:"100 g", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"grocery"},
      {name:"MDH Garam Masala", price:"‚Çπ75", weight:"100 g", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"grocery"}
    ]
  },
  {
    title: "Fruits",
    products: [
      {name:"Apple Shimla", price:"‚Çπ126", mrp:"‚Çπ221", off:"‚Çπ95 OFF", weight:"4 pcs", img:"https://images.unsplash.com/photo-1560806887-1e4cd0b6cbd6?w=800", cat:"fruit"},
      {name:"Banana Robusta", price:"‚Çπ28", mrp:"‚Çπ41", off:"‚Çπ13 OFF", weight:"6-7 pcs", img:"https://images.unsplash.com/photo-1601004890684-d8cbf643f5f2?w=800", cat:"fruit"},
      {name:"Mango Alphonso", price:"‚Çπ180", weight:"1 kg", img:"https://images.unsplash.com/photo-1582284540020-8a7f0a02e3d3?w=800", cat:"fruit"},
      {name:"Green Grapes", price:"‚Çπ90", weight:"500 g", img:"https://images.unsplash.com/photo-1601244032960-88e13f78d604?w=800", cat:"fruit"},
      {name:"Orange Nagpur", price:"‚Çπ65", weight:"1 kg", img:"https://images.unsplash.com/photo-1580052614034-c55d20bfee3b?w=800", cat:"fruit"},
      {name:"Pomegranate", price:"‚Çπ120", weight:"500 g", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"fruit"},
      {name:"Papaya", price:"‚Çπ55", weight:"1 kg", img:"https://images.unsplash.com/photo-1615485290382-4d1b9a9b8d0e?w=800", cat:"fruit"},
      {name:"Guava", price:"‚Çπ40", weight:"1 kg", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"fruit"},
      {name:"Pineapple", price:"‚Çπ75", weight:"1 piece", img:"https://images.unsplash.com/photo-1559056199-8c9956a0d4d5?w=800", cat:"fruit"},
      {name:"Watermelon", price:"‚Çπ60", weight:"2-3 kg", img:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc2d?w=800", cat:"fruit"}
    ]
  },
  {
    title: "Vegetables",
    products: [
      {name:"Tomato Local", price:"‚Çπ25", mrp:"‚Çπ48", off:"‚Çπ23 OFF", weight:"500 g", img:"https://images.unsplash.com/photo-1592924357229-6d5a3a0e5a6d?w=800", cat:"veg"},
      {name:"Onion", price:"‚Çπ32", weight:"1 kg", img:"https://images.unsplash.com/photo-1615477068639-4353b2d7d3c3?w=800", cat:"veg"},
      {name:"Potato", price:"‚Çπ32", weight:"1 kg", img:"https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=800", cat:"veg"},
      {name:"Cucumber", price:"‚Çπ18", weight:"500 g", img:"https://images.unsplash.com/photo-1604977042946-1eecc30f269e?w=800", cat:"veg"},
      {name:"Carrot", price:"‚Çπ35", weight:"500 g", img:"https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=800", cat:"veg"},
      {name:"Cauliflower", price:"‚Çπ45", weight:"1 pc", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"veg"},
      {name:"Cabbage", price:"‚Çπ23", weight:"1 pc", img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", cat:"veg"},
      {name:"Capsicum", price:"‚Çπ50", weight:"250 g", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"veg"},
      {name:"Brinjal", price:"‚Çπ30", weight:"500 g", img:"https://images.unsplash.com/photo-1625772299848-361b8037d1a9?w=800", cat:"veg"},
      {name:"Lady Finger", price:"‚Çπ40", weight:"250 g", img:"https://images.unsplash.com/photo-1586201833999-8b4e8c7b8d0b?w=800", cat:"veg"}
    ]
  },
  {
    title: "Dairy",
    products: [
      {name:"Nandini Fresh Milk", price:"‚Çπ24", weight:"500 ml", img:"https://images.unsplash.com/photo-1550581190-9e6a8d8d5b5d?w=800", cat:"dairy"},
      {name:"Amul Butter", price:"‚Çπ48", mrp:"‚Çπ52", off:"‚Çπ4 OFF", weight:"100 g", img:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc2d?w=800", cat:"dairy"},
      {name:"Milky Mist Paneer", price:"‚Çπ91", mrp:"‚Çπ130", off:"‚Çπ39 OFF", weight:"200 g", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"dairy"},
      {name:"Amul Cheese Slices", price:"‚Çπ120", weight:"200 g", img:"https://images.unsplash.com/photo-1618164435735-413d3b2d7e8d?w=800", cat:"dairy"},
      {name:"Mother Dairy Curd", price:"‚Çπ35", weight:"400 g", img:"https://images.unsplash.com/photo-1625772299848-361b8037d1a9?w=800", cat:"dairy"},
      {name:"Amul Lassi", price:"‚Çπ25", weight:"200 ml", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"dairy"},
      {name:"Britannia Cheese Block", price:"‚Çπ199", weight:"200 g", img:"https://images.unsplash.com/photo-1581235720704-06d8b4d8e2e3?w=800", cat:"dairy"},
      {name:"Amul Fresh Cream", price:"‚Çπ60", weight:"200 ml", img:"https://images.unsplash.com/photo-1617890686219-509e1d7e5c2e?w=800", cat:"dairy"},
      {name:"Nandini Ghee", price:"‚Çπ520", weight:"1 L", img:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc2d?w=800", cat:"dairy"},
      {name:"Amul Masti Buttermilk", price:"‚Çπ20", weight:"200 ml", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"dairy"}
    ]
  },
  {
    title: "Snacks",
    products: [
      {name:"Lays Classic Salted", price:"‚Çπ20", weight:"52 g", img:"https://images.unsplash.com/photo-1566478989037-eec170784d0b?w=800", cat:"snack"},
      {name:"Bingo Mad Angles", price:"‚Çπ10", weight:"60 g", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"snack"},
      {name:"Parle-G Biscuits", price:"‚Çπ5", weight:"100 g", img:"https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=800", cat:"snack"},
      {name:"Kurkure Masala Munch", price:"‚Çπ20", weight:"90 g", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"snack"},
      {name:"Haldiram's Bhujia", price:"‚Çπ85", weight:"150 g", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"snack"},
      {name:"Balaji Wafers", price:"‚Çπ10", weight:"45 g", img:"https://images.unsplash.com/photo-1625772299848-361b8037d1a9?w=800", cat:"snack"},
      {name:"Hide & Seek", price:"‚Çπ30", weight:"100 g", img:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc2d?w=800", cat:"snack"},
      {name:"Bingo Tedhe Medhe", price:"‚Çπ15", weight:"75 g", img:"https://images.unsplash.com/photo-1559056199-8c9956a0d4d5?w=800", cat:"snack"},
      {name:"Pringles Original", price:"‚Çπ120", weight:"110 g", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"snack"},
      {name:"Doritos Nacho Cheese", price:"‚Çπ99", weight:"100 g", img:"https://images.unsplash.com/photo-1559056199-8c9956a0d4d5?w=800", cat:"snack"}
    ]
  },
  {
    title: "Beauty",
    products: [
      {name:"Nivea Soft Light Moisturiser", price:"‚Çπ199", weight:"200 ml", img:"https://images.unsplash.com/photo-1617890686219-509e1d7e5c2e?w=800", cat:"beauty"},
      {name:"Lakme 9 to 5 Lipstick", price:"‚Çπ299", weight:"4.5 g", img:"https://images.unsplash.com/photo-1625772299848-361b8037d1a9?w=800", cat:"beauty"},
      {name:"Dove Cream Beauty Bathing Bar", price:"‚Çπ85", weight:"75 g", img:"https://images.unsplash.com/photo-1608248543803-3b1d1a2e3d7a?w=800", cat:"beauty"},
      {name:"Garnier Skin Naturals Face Wash", price:"‚Çπ120", weight:"100 ml", img:"https://images.unsplash.com/photo-1556229010-6c3f2c9ca5f8?w=800", cat:"beauty"},
      {name:"Maybelline Lash Sensational Mascara", price:"‚Çπ349", weight:"9.2 ml", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"beauty"},
      {name:"Ponds Cold Cream", price:"‚Çπ150", weight:"100 ml", img:"https://images.unsplash.com/photo-1615485290382-4d1b9a9b8d0e?w=800", cat:"beauty"},
      {name:"Himalaya Neem Face Wash", price:"‚Çπ130", weight:"150 ml", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"beauty"},
      {name:"Fair & Lovely Cream", price:"‚Çπ99", weight:"50 g", img:"https://images.unsplash.com/photo-1581235720704-06d8b4d8e2e3?w=800", cat:"beauty"},
      {name:"Lakme Eye Liner", price:"‚Çπ220", weight:"1.2 ml", img:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc2d?w=800", cat:"beauty"},
      {name:"Vaseline Petroleum Jelly", price:"‚Çπ80", weight:"100 g", img:"https://images.unsplash.com/photo-1559056199-8c9956a0d4d5?w=800", cat:"beauty"}
    ]
  },
  {
    title: "Toys",
    products: [
      {name:"LEGO Classic Creative Brick Box", price:"‚Çπ799", weight:"1 set", img:"https://images.unsplash.com/photo-1587654780291-39c9404d746b?w=800", cat:"toys"},
      {name:"Hot Wheels Track Set", price:"‚Çπ499", weight:"5 cars", img:"https://images.unsplash.com/photo-1581235720704-06d8b4d8e2e3?w=800", cat:"toys"},
      {name:"Barbie Dreamhouse Playset", price:"‚Çπ2499", weight:"1 set", img:"https://images.unsplash.com/photo-1515488042361-ee00e0ddd4e4?w=800", cat:"toys"},
      {name:"Remote Control Car", price:"‚Çπ899", weight:"1 piece", img:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc2d?w=800", cat:"toys"},
      {name:"Puzzle 500 Pieces", price:"‚Çπ250", weight:"1 set", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"toys"},
      {name:"Play-Doh Modeling Compound", price:"‚Çπ399", weight:"12 colors", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"toys"},
      {name:"Nerf Elite Blaster", price:"‚Çπ799", weight:"1 piece", img:"https://images.unsplash.com/photo-1625772299848-361b8037d1a9?w=800", cat:"toys"},
      {name:"Teddy Bear Soft Toy", price:"‚Çπ450", weight:"Medium", img:"https://images.unsplash.com/photo-1556229010-6c3f2c9ca5f8?w=800", cat:"toys"},
      {name:"Building Blocks Set", price:"‚Çπ350", weight:"100 pcs", img:"https://images.unsplash.com/photo-1617890686219-509e1d7e5c2e?w=800", cat:"toys"},
      {name:"Doll House Miniature", price:"‚Çπ699", weight:"1 set", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"toys"}
    ]
  },
  {
    title: "Student needs",
    products: [
      {name:"Classmate Notebook", price:"‚Çπ45", weight:"200 pages", img:"https://images.unsplash.com/photo-1455390582262-044cdead277a?w=800", cat:"student"},
      {name:"Faber-Castell Geometry Box", price:"‚Çπ150", weight:"1 set", img:"https://images.unsplash.com/photo-1589829545856-d10d7d9e8d2c?w=800", cat:"student"},
      {name:"Pilot V5 Roller Pen", price:"‚Çπ60", weight:"Pack of 5", img:"https://images.unsplash.com/photo-1455390582262-044cdead277a?w=800", cat:"student"},
      {name:"Apsara Platinum Pencils", price:"‚Çπ25", weight:"Pack of 10", img:"https://images.unsplash.com/photo-1581235720704-06d8b4d8e2e3?w=800", cat:"student"},
      {name:"Camlin Highlighter Set", price:"‚Çπ99", weight:"5 colors", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"student"},
      {name:"Classmate Spiral Notebook", price:"‚Çπ55", weight:"300 pages", img:"https://images.unsplash.com/photo-1626800478619-0c4c2c0e4d8c?w=800", cat:"student"},
      {name:"Staedtler Triplus Fineliner", price:"‚Çπ250", weight:"Pack of 6", img:"https://images.unsplash.com/photo-1625772299848-361b8037d1a9?w=800", cat:"student"},
      {name:"Maped Compass", price:"‚Çπ120", weight:"1 set", img:"https://images.unsplash.com/photo-1559056199-8c9956a0d4d5?w=800", cat:"student"},
      {name:"Faber-Castell Eraser", price:"‚Çπ15", weight:"Pack of 2", img:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc2d?w=800", cat:"student"},
      {name:"Stick File Folder", price:"‚Çπ35", weight:"Pack of 10", img:"https://images.unsplash.com/photo-1606857521015-7f9fcf423740?w=800", cat:"student"}
    ]
  }
];

/* Render a single product card */
function renderProductCard(container, p) {
  let inCart = cart.find(i => i.name === p.name);
  container.innerHTML += `
    <div class="product">
      <div class="product-img-container">
        <img src="${p.img}" onclick="openDetails(p)">
      </div>
      <div class="product-info">
        <div class="product-name">${p.name}</div>
        <div class="product-weight">${p.weight}</div>
        <div class="product-price">
          <span class="selling">${p.price}</span>
          ${p.mrp ? `<span class="mrp">${p.mrp}</span><span class="off">${p.off}</span>` : ''}
        </div>
        ${inCart ? `
          <div class="qty-btn" onclick="event.stopPropagation()">
            <button onclick="updateQuantity('${p.name}', -1); event.stopPropagation()">‚Äì</button>
            <span>${inCart.qty}</span>
            <button onclick="updateQuantity('${p.name}', 1); event.stopPropagation()">+</button>
          </div>` : `
          <button class="add-btn" onclick="addToCart('${p.name}','${p.price}','${p.img}'); event.stopPropagation()">ADD</button>`}
      </div>
    </div>`;
}

/* Render all category sections with filtering */
function renderSections() {
  const container = document.getElementById('sectionsContainer');
  container.innerHTML = '';
  const noResults = document.getElementById('noResults');
  noResults.style.display = 'none';
  let hasResults = false;
  const lowerSearch = searchQuery.toLowerCase();
  categorySections.forEach(section => {
    const filteredProducts = section.products.filter(p => {
      const matchesCategory = activeCategory === "all" || p.cat === activeCategory;
      const matchesSearch = !searchQuery || p.name.toLowerCase().includes(lowerSearch) || p.weight.toLowerCase().includes(lowerSearch);
      return matchesCategory && matchesSearch;
    });
    if (filteredProducts.length > 0) {
      container.innerHTML += `
        <div class="cat-section">
          <div class="cat-title">${section.title}</div>
          <div class="products" id="${section.title.replace(/ /g, '')}Grid"></div>
        </div>`;
      const grid = document.getElementById(`${section.title.replace(/ /g, '')}Grid`);
      filteredProducts.forEach(p => renderProductCard(grid, p));
      hasResults = true;
    }
  });
  if (!hasResults && searchQuery) {
    document.getElementById('searchTerm').textContent = searchQuery;
    noResults.style.display = 'block';
  }
}

/* Updated openDetails to match Zepto product page */
function openDetails(p) {
  currentProduct = p;
  document.getElementById('detailsName').textContent = p.name;
  document.getElementById('detailsWeight').textContent = p.weight;
  document.getElementById('detailsPrice').textContent = p.price;
  document.getElementById('detailsMrp').textContent = p.mrp ? `MRP ${p.mrp}` : '';
  document.getElementById('detailsDiscount').textContent = p.off || '';
  document.getElementById('detailsMainImg').src = p.img;
  document.getElementById('detailsOverlay').style.display = 'flex';
}

/* Rest of functions unchanged */
function handleSearch() {
  searchQuery = document.getElementById('searchInput').value.trim();
  renderSections();
}

function addToCart(name, price, img) {
  let item = cart.find(i => i.name === name);
  if (item) item.qty += 1;
  else cart.push({name, price, img, qty: 1});
  renderSections();
  renderCart();
  openCart();
}

function addToCartFromDetails() {
  addToCart(currentProduct.name, currentProduct.price, currentProduct.img);
}

function updateQuantity(name, delta) {
  let item = cart.find(i => i.name === name);
  if (item) {
    item.qty += delta;
    if (item.qty <= 0) cart = cart.filter(i => i.name !== name);
    renderSections();
    renderCart();
  }
}

function renderCart() {
  let container = document.getElementById('cartItems');
  container.innerHTML = "";
  let total = 0;
  cart.forEach(i => {
    let itemPrice = parseFloat(i.price.replace('‚Çπ', ''));
    total += itemPrice * i.qty;
    container.innerHTML += `
      <div class="cart-item">
        <div class="cart-item-img"><img src="${i.img}" alt="${i.name}"></div>
        <div class="cart-item-details">
          <h4>${i.name}</h4>
          <p>${i.price}</p>
          <div class="quantity-controls">
            <button onclick="updateQuantity('${i.name}', -1)">‚Äì</button>
            <span>${i.qty}</span>
            <button onclick="updateQuantity('${i.name}', 1)">+</button>
          </div>
        </div>
        <div class="cart-item-price">‚Çπ${(itemPrice * i.qty).toFixed(0)}</div>
      </div>`;
  });
  document.getElementById('cartTotal').textContent = '‚Çπ' + total.toFixed(0);
  if (cart.length === 0) container.innerHTML = '<p style="text-align:center;color:#888;padding:40px;">Your cart is empty</p>';
}

function closeDetails() { document.getElementById('detailsOverlay').style.display = 'none'; }
function openCart(){document.getElementById('cartOverlay').style.display="block";document.getElementById('cartPopup').classList.add("active")}
function closeCart(){document.getElementById('cartOverlay').style.display="none";document.getElementById('cartPopup').classList.remove("active")}
function openProfile() { window.location.href = 'profile.html'; }

/* Category click */
document.querySelectorAll(".cat-nav span").forEach(c=>{
  c.onclick=()=>{
    document.querySelectorAll(".cat-nav span").forEach(i=>i.classList.remove("active"));
    c.classList.add("active");
    activeCategory = c.dataset.cat;
   
    const bannerSection = document.getElementById('bannerSection');
    if (activeCategory === "all") {
      bannerSection.classList.add("visible");
    } else {
      bannerSection.classList.remove("visible");
    }
   
    renderSections();
  }
});

/* Banner carousel */
let currentSlide = 0;
const slides = document.querySelectorAll('.banner-slide');
const totalSlides = slides.length;
function updateDots() {
  const dotsContainer = document.getElementById('bannerDots');
  dotsContainer.innerHTML = '';
  for (let i = 0; i < totalSlides; i++) {
    const dot = document.createElement('span');
    if (i === currentSlide) dot.classList.add('active');
    dotsContainer.appendChild(dot);
  }
}
function nextSlide() {
  slides[currentSlide].classList.remove('active');
  currentSlide = (currentSlide + 1) % totalSlides;
  slides[currentSlide].classList.add('active');
  updateDots();
}
function prevSlide() {
  slides[currentSlide].classList.remove('active');
  currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
  slides[currentSlide].classList.add('active');
  updateDots();
}
let autoPlay = setInterval(nextSlide, 5000);
document.querySelector('.banner-carousel').addEventListener('mouseenter', () => clearInterval(autoPlay));
document.querySelector('.banner-carousel').addEventListener('mouseleave', () => autoPlay = setInterval(nextSlide, 5000));
updateDots();
renderSections();
renderCart();
// Location functions (added - required for your modal)
function openLocationModal() {
  document.getElementById('locationOverlay').style.display = 'flex';
}
function closeLocationModal() {
  document.getElementById('locationOverlay').style.display = 'none';
}
function detectMyLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
      () => {
        document.getElementById('currentLocationDisplay').textContent = "Near You";
        closeLocationModal();
      },
      () => alert("Location access denied. Please enter manually.")
    );
  } else {
    alert("Geolocation not supported.");
  }
}
function saveLocation() {
  const input = document.getElementById('pincodeInput').value.trim();
  if (input.length < 3) {
    alert("Please enter valid pincode or area");
    return;
  }
  document.getElementById('currentLocationDisplay').textContent = input;
  closeLocationModal();
}

</script>
</body>
</html>